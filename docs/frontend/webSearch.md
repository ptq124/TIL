# www.naver.com을 검색하면 일어나는 과정

리다이렉트, 캐싱, DNS, IP 라우팅, TCP 연결 구축을 거쳐 오청, 응답이 일어나는 TTFB(Time to First Byte)가 시작되고 이후 컨텐츠를 다운받게 되고 이후 브라우저 렌더링 과정을 거쳐 네이버라는 화면이 나타나게 됩니다.

리다이렉트

- 리다이렉트가 있다면 리다이렉트를 진행, 없다면 그대로 해당 요청에 대한 과정 진행

캐싱

- 해당 요청이 캐싱이 가능한지 가능하지 않은지 파악
- 캐싱이 된 요청이면 캐싱 값을 반환, 새로운 요청이면 그 다음 단계로 넘어감
- 브라우저 캐시
  - html,css 파일,쿠키, 로컬스토리지등을 포함한 캐시
  - 사용자가 HTTP를 통해 다운로드하는 모든 문서를 보유하는 것을 말함
- 공유 캐시
  - 클라이언트와 서버 사이에 있으며 사용자간에 공유할 수 있는 응답을 저장할 수 있음
  - 대표적인 예로 서버 앞단에 프록시 서버가 캐싱을 하는 것을 말함. nginx 프록시 서버
  - 캐싱 서버로 많이 쓰이는 것: Amazon cloud front, cloudflare

DNS

- Domain Name System은 계층적인 도메인 구조와 분산된 데이터베이스를 이용한 시스템으로 FQDN을 인터넷 프로톨인 IP로 바꿔주는 시스템
- FQDN → Fully Qualified Domain Name 호스트와 도메인이 합쳐진 완전한 도메인 이름. 예를 들어 네이버 풀 주소
- www → host 주소
- naver → second level 도메인
- com → top level 도메인
- DNS 캐싱: 로컬 PC에 자동적으로 저장

IP라우팅

- 해당 IP를 기반으로 라우팅, ARP 과정을 거쳐 실제 서버를 찾음
- ARP: IP 주소를 통해 MAC 주소를 찾음

TCP 연결 구축

- 브라우저가 TCP 3웨이 핸드세이크 및 SSL 연결등을 통해 연결을 설정함. 이후 요청을 보내고 요청한 서버로부터 응답을 받음

콘텐츠 다운로드

- 요청한 컨텐츠를 서버로부터 다운

브라우저 렌더링

- 받은 데이터를 바탕으로 브라우저 엔진이 브라우저 렌더링 과정을 거쳐 화면을 만듬
